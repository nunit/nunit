<?xml version="1.0" encoding="UTF-8"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
	<Product Id="*" 
             Name="NUnit Framework !(bind.FileVersion.nunit.framework.45.dll)" 
             Language="1033" 
             Version="!(bind.FileVersion.nunit.framework.45.dll)" 
             Manufacturer="nunit.org" 
             UpgradeCode="880B355E-1916-446B-A3E1-D2B72CF2A0EC">
        
        <Package InstallerVersion="200" Compressed="yes" InstallScope="perMachine" />

        <!-- Include the information that is common to all installs -->
        <?include ..\common\variables.wxi ?>
        <?include ..\common\common.wxi ?>

        <!-- ***************************************************************** -->
        <!-- **********      Define the NUnit feature tree          ********** -->
        <!-- ***************************************************************** -->
        
        <Feature Id="NUNIT.FRAMEWORK" 
                 ConfigurableDirectory="INSTALLDIR" 
                 Level="1" 
                 Title="NUnit Framework v!(bind.FileVersion.nunit.framework.45.dll)" 
                 Display="expand" 
                 Description="Installs the NUnit framework assemblies for the various .NET Frameworks">

            <ComponentGroupRef Id="NUNIT.COMMON"/>
                
            <Feature Id="NET20" Level="1" Title=".NET 2.0"
                        Description="Installs the NUnit framework for .NET 2.0" >
                <ComponentGroupRef Id="NET20"/>
            </Feature>
            <Feature Id="NET35" Level="1" Title=".NET 3.5"
                        Description="Installs the NUnit framework for .NET 3.5" >
                <ComponentGroupRef Id="NET35"/>
            </Feature>
            <Feature Id="NET40" Level="1" Title=".NET 4.0"
                        Description="Installs the NUnit framework for .NET 4.0" >
                <ComponentGroupRef Id="NET40"/>
            </Feature>
            <Feature Id="NET45" Level="1" Title=".NET 4.5"
                        Description="Installs the NUnit framework for .NET 4.5" >
                <ComponentGroupRef Id="NET45"/>
            </Feature>
            <Feature Id="PORTABLE" Level="1" Title=".NET Portable"
                        Description="Installs the NUnit framework for Portable .NET" >
                <ComponentGroupRef Id="PORTABLE"/>
            </Feature>
            <Feature Id="SL50" Level="1" Title="Silverlight 5.0"
                        Description="Installs the NUnit framework for Silverlight 5.0" >
                <ComponentGroupRef Id="SL50"/>
            </Feature>
		</Feature>
	</Product>

    <!-- ***************************************************************** -->
    <!-- **********       Define Directory Structure            ********** -->
    <!-- ***************************************************************** -->
    
	<Fragment>
		<Directory Id="TARGETDIR" Name="SourceDir">
			<Directory Id="ProgramFilesFolder">
                <Directory Id="INSTALLDIR" Name="NUnit.org">
                    <Merge Id="NUnit.Framework" Language="1033" SourceFile="" DiskId="1" />
                </Directory>
			</Directory>
		</Directory>
	</Fragment>
</Wix>